<!doctype html>
<html class="no-js no-svg" lang="en">
<head>
  <meta charset="utf-8">
  <title>
  Application Menu Example & Code
       &bull; Menus
  &bull; WAI Web Accessibility Tutorials
  </title>
  <link rel="canonical" href="https://www.w3.org/WAI/tutorials/menus/application-menus-code/" />
  <meta name="viewport" content="width=device-width">
  <link href="../../stylesheets/wai-act-fe16f41e.css" rel="stylesheet" />
  <script src="../../javascripts/modernizr-a1c597b5.js"></script>
  <link rel="mask-icon" href="../../img/w3cwai-maskicon-cf2cdf03.svg" color="#003366">
</head>
<body class="texts">
  <header role="banner">
    <div class="w3c-wai-header">
      <a href="http://w3.org/"><img alt="W3C" width="90" src="../../img/w3c-bde9a11f.svg" /></a>
      <a href="http://w3.org/WAI/" class="wai"><img alt="Web Accessibility Initiative" src="../../img/wai-590850fc.svg" /></a>
    </div>
    <div class="page-title">
      <a href="../../" class="">Web Accessibility Tutorials <span class="subheading">Guidance on how to create websites that meet WCAG</span></a>
    </div>
  </header>
  <div class="with-side-menu">
    <nav aria-label="Skip links" role="navigation">
      <a href="#nav" class="btn btn-jump">Jump to the navigation</a>
    </nav>

<main role="main" class="content ">
  <article role="article">
    <header class="tutorial-heading">
      <nav class="breadcrumb" aria-label="Breadcrumbs" role="navigation">
        <p>
          <span class="home"><a href="../../" class=""><span class="count"></span><span class="txt">Tutorials home</span></a></span> <span class="icon icon-chevron-right"></span><span class="visuallyhidden">»</span>
          <span class="other">
              <a href="../" class=""><span class="count"></span><span class="txt">Menus</span></a> <span class="icon icon-chevron-right"></span><span class="visuallyhidden">»</span>
            <span class="current-a"><span class="count"></span><span class="txt"><span class="visuallyhidden">Current: </span>Application Menu Example & Code</span></span>
          </span>
        </p>
      </nav>
      <h1>
        Application Menu Example & Code
      </h1>
    </header>



    <div class="inner">




      <div class="show-overflow2">
<figure class="sample ">
  <figcaption>Example: </figcaption>
  <div class="box-content">
<ul role="menubar" aria-label="functions" id="appmenu">
		<li role="menuitem" aria-haspopup="true">
			File
			<ul role="menu">
						<li role="menuitem">New</li>
						<li role="menuitem">Open</li>
						<li role="menuitem">Print</li>
				</ul>
		</li>
		<li role="menuitem" aria-haspopup="true">
			Edit
			<ul role="menu">
						<li role="menuitem">Undo</li>
						<li role="menuitem">Redo</li>
						<li role="menuitem">Cut</li>
						<li role="menuitem">Copy</li>
						<li role="menuitem">Paste</li>
				</ul>
		</li>
		<li role="menuitem" aria-haspopup="true">
				Format
				<ul role="menu">
						<li role="menuitem">Font</li>
						<li role="menuitem">Text</li>
				</ul>
		</li>
		<li role="menuitem" aria-haspopup="true">
			View
			<ul role="menu">
				<li role="menuitem">100%</li>
				<li role="menuitem">Zoom In</li>
				<li role="menuitem">Zoom Out</li>
			</ul>
		</li>
		<li role="menuitem">Help</li>
</ul>

<style>
.show-overflow2 {
		overflow: visible !important;
		float: left;
		width: 100%;
}

.show-overflow2 .box-content {
		overflow: visible !important;
		float: left;
		width: 100%;
}
.show-overflow2 .sample:after {
	content:'';
	display:block;
	clear: both;
}

.show-overflow2 + figure {
	clear: both;
}
	#appmenu {
			width:80%;
			float: left;
			margin: 0;
			padding: 0;
			color: #fff;
			background-color: #369;
			padding: .25em;
	}
	#appmenu li {
		white-space: nowrap;
		display:block;
		padding: .25em .75em;
		border: 1px solid #fff;
	}
	#appmenu > li {
			float: left;
			background-color: #036;
			text-align: center;
			position:relative;
			cursor: pointer;
	}
	#appmenu :hover,
		#appmenu :focus {
			background-color: #fff;
			color: #036;
			border: 1px solid #036;
			text-decoration: underline;
	}

	#appmenu :hover li,
		#appmenu :focus li {
			color: #fff;
			background-color: #036;
		}

	#appmenu > li > ul {
		display: none;
		position:absolute;
		left:0;
		right:0;
		top:100%;
		padding:0;
		margin:0;
		background-color: #036;
		width: 200%;
		text-align: left;
	}

#appmenu > li[aria-expanded="true"] > ul {
		display:block;
	}
</style>

<script>
var appsMenu = document.querySelector('#appmenu');
var appsMenuItems = document.querySelectorAll('#appmenu > li');
var subMenuItems = document.querySelectorAll('#appmenu > li li');
var keys = {
	tab:    9,
	enter:  13,
	esc:    27,
	space:  32,
	left:   37,
	up:     38,
	right:  39,
	down:   40
};
var currentIndex, subIndex;

var gotoIndex = function(idx) {
	if (idx == appsMenuItems.length) {
		idx = 0;
	} else if (idx < 0) {
		idx = appsMenuItems.length - 1;
	}
	appsMenuItems[idx].focus();
	currentIndex = idx;
	return appsMenuItems[idx];
};

var gotoSubIndex = function (menu, idx) {
	var items = menu.querySelectorAll('li');
	if (idx == items.length) {
		idx = 0;
	} else if (idx < 0) {
		idx = items.length - 1;
	}
	items[idx].focus();
	subIndex = idx;
}

Array.prototype.forEach.call(appsMenuItems, function(el, i){
		if (0 == i) {
			el.setAttribute('tabindex', '0');
			el.addEventListener("focus", function() {
				currentIndex = 0;
			});
		} else {
			el.setAttribute('tabindex', '-1');
		}
		el.addEventListener("focus", function() {
			subIndex = 0;
			Array.prototype.forEach.call(appsMenuItems, function(el, i){
				el.setAttribute('aria-expanded', "false");
			});
		});
		el.addEventListener("click",  function(event){
			if (this.getAttribute('aria-expanded') == 'false' || this.getAttribute('aria-expanded') ==  null) {
				this.setAttribute('aria-expanded', "true");
				subindex = 0;
				gotoSubIndex(this.querySelector('ul'), 0);
			} else {
				this.setAttribute('aria-expanded', "false");
				gotoIndex(currentIndex);
			}
			event.preventDefault();
			return false;
		});
		el.addEventListener("keydown", function(event) {
			var prevdef = false;
			switch (event.keyCode) {
				case keys.right:
					gotoIndex(currentIndex + 1);
					prevdef = true;
					break;
				case keys.left:
					gotoIndex(currentIndex - 1);
					prevdef = true;
					break;
				case keys.tab:
					// if (event.shiftKey) {
					// 	gotoIndex(currentIndex - 1);
					// } else {
					// 	gotoIndex(currentIndex + 1);
					// }
					// prevdef = true;
					break;
				case keys.enter:
				case keys.down:
				case keys.space:
					this.click();
					subindex = 0;
					gotoSubIndex(this.querySelector('ul'), 0);
					prevdef = true;
					break;
				case keys.up:
					this.click();
					var submenu = this.querySelector('ul');
					subindex = submenu.querySelectorAll('li').length - 1;
					gotoSubIndex(submenu, subindex);
					prevdef = true;
					break;
				case keys.esc:
					document.querySelector('#escape').setAttribute('tabindex', '-1');
					document.querySelector('#escape').focus();
					prevdef = true;
			}
			if (prevdef) {
				event.preventDefault();
			}
		});
});

Array.prototype.forEach.call(subMenuItems, function(el, i){
	el.setAttribute('tabindex', '-1');
	el.addEventListener("keydown", function(event) {
			var prevdef = false;
			switch (event.keyCode) {
				case keys.tab:
					// if (event.shiftKey) {
					// 	gotoIndex(currentIndex - 1);
					// } else {
					// 	gotoIndex(currentIndex + 1);
					// }
					// prevdef = true;
					break;
				case keys.right:
					var newnode = gotoIndex(currentIndex + 1);
					newnode.click();
					gotoSubIndex(newnode, 0);
					prevdef = true;
					break;
				case keys.left:
					var newnode = gotoIndex(currentIndex - 1);
					newnode.click();
					gotoSubIndex(newnode, 0);
					prevdef = true;
					break;
				case keys.esc:
					gotoIndex(currentIndex);
					prevdef = true;
					break;
				case keys.down:
					gotoSubIndex(this.parentNode, subIndex + 1);
					prevdef = true;
					break;
				case keys.up:
					gotoSubIndex(this.parentNode, subIndex - 1);
					prevdef = true;
					break;
				case keys.enter:
				case keys.space:
					alert(this.innerText);
					prevdef = true;
					break;
			}
			if (prevdef) {
				event.preventDefault();
				event.stopPropagation();
			}
			return false;
		});
	el.addEventListener("click", function(event) {
			alert(this.innerHTML);
			event.preventDefault();
			event.stopPropagation();
			return false;
		});
});

window.addEventListener("click", function( event ) {
	Array.prototype.forEach.call(appsMenuItems, function(el, i){
		el.setAttribute('aria-expanded', "false");
	});
});

appsMenu.addEventListener("click", function( event ) {
  event.stopPropagation();
});
</script>

<div id="escape" style="clear:both">Element after the menu to focus on</div>


  </div></figure>

</div>

<figure class="code ">
  <figcaption>Code snippet: HTML</figcaption>

<div class="highlight"><pre class="highlight html"><code><span class="nt">&lt;ul</span> <span class="na">role=</span><span class="s">"menubar"</span> <span class="na">aria-label=</span><span class="s">"functions"</span> <span class="na">id=</span><span class="s">"appmenu"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span> <span class="na">aria-haspopup=</span><span class="s">"true"</span><span class="nt">&gt;</span>
		File
		<span class="nt">&lt;ul</span> <span class="na">role=</span><span class="s">"menu"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>New<span class="nt">&lt;/li&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Open<span class="nt">&lt;/li&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Print<span class="nt">&lt;/li&gt;</span>
		<span class="nt">&lt;/ul&gt;</span>
	<span class="nt">&lt;/li&gt;</span>
	<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span> <span class="na">aria-haspopup=</span><span class="s">"true"</span><span class="nt">&gt;</span>
		Edit
		<span class="nt">&lt;ul</span> <span class="na">role=</span><span class="s">"menu"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Undo<span class="nt">&lt;/li&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Redo<span class="nt">&lt;/li&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Cut<span class="nt">&lt;/li&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Copy<span class="nt">&lt;/li&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Paste<span class="nt">&lt;/li&gt;</span>
		<span class="nt">&lt;/ul&gt;</span>
	<span class="nt">&lt;/li&gt;</span>
	<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span> <span class="na">aria-haspopup=</span><span class="s">"true"</span><span class="nt">&gt;</span>
		Format
		<span class="nt">&lt;ul</span> <span class="na">role=</span><span class="s">"menu"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Font<span class="nt">&lt;/li&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Text<span class="nt">&lt;/li&gt;</span>
		<span class="nt">&lt;/ul&gt;</span>
	<span class="nt">&lt;/li&gt;</span>
	<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span> <span class="na">aria-haspopup=</span><span class="s">"true"</span><span class="nt">&gt;</span>
		View
		<span class="nt">&lt;ul</span> <span class="na">role=</span><span class="s">"menu"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>100%<span class="nt">&lt;/li&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Zoom In<span class="nt">&lt;/li&gt;</span>
			<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Zoom Out<span class="nt">&lt;/li&gt;</span>
		<span class="nt">&lt;/ul&gt;</span>
	<span class="nt">&lt;/li&gt;</span>
	<span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"menuitem"</span><span class="nt">&gt;</span>Help<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</code></pre></div>
</figure>

<figure class="code ">
  <figcaption>Code snippet: CSS</figcaption>

<div class="highlight"><pre class="highlight css"><code><span class="nf">#appmenu</span> <span class="p">{</span>
	<span class="nl">width</span><span class="p">:</span><span class="m">80%</span><span class="p">;</span>
	<span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
	<span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
	<span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
	<span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
	<span class="nl">background-color</span><span class="p">:</span> <span class="m">#369</span><span class="p">;</span>
	<span class="nl">padding</span><span class="p">:</span> <span class="m">.25em</span><span class="p">;</span>
<span class="p">}</span>
<span class="nf">#appmenu</span> <span class="nt">li</span> <span class="p">{</span>
	<span class="nl">white-space</span><span class="p">:</span> <span class="nb">nowrap</span><span class="p">;</span>
	<span class="nl">display</span><span class="p">:</span><span class="nb">block</span><span class="p">;</span>
	<span class="nl">padding</span><span class="p">:</span> <span class="m">.25em</span> <span class="m">.75em</span><span class="p">;</span>
	<span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#fff</span><span class="p">;</span>
<span class="p">}</span>
<span class="nf">#appmenu</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="p">{</span>
	<span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
	<span class="nl">background-color</span><span class="p">:</span> <span class="m">#036</span><span class="p">;</span>
	<span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
	<span class="nl">position</span><span class="p">:</span><span class="nb">relative</span><span class="p">;</span>
	<span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
<span class="p">}</span>
<span class="nf">#appmenu</span> <span class="nd">:hover</span><span class="o">,</span>
<span class="nf">#appmenu</span> <span class="nd">:focus</span> <span class="p">{</span>
	<span class="nl">background-color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
	<span class="nl">color</span><span class="p">:</span> <span class="m">#036</span><span class="p">;</span>
	<span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#036</span><span class="p">;</span>
	<span class="nl">text-decoration</span><span class="p">:</span> <span class="nb">underline</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#appmenu</span> <span class="nd">:hover</span> <span class="nt">li</span><span class="o">,</span>
<span class="nf">#appmenu</span> <span class="nd">:focus</span> <span class="nt">li</span> <span class="p">{</span>
	<span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
	<span class="nl">background-color</span><span class="p">:</span> <span class="m">#036</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#appmenu</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="p">{</span>
	<span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
	<span class="nl">position</span><span class="p">:</span><span class="nb">absolute</span><span class="p">;</span>
	<span class="nl">left</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
	<span class="nl">right</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
	<span class="nl">top</span><span class="p">:</span><span class="m">100%</span><span class="p">;</span>
	<span class="nl">padding</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
	<span class="nl">margin</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
	<span class="nl">background-color</span><span class="p">:</span> <span class="m">#036</span><span class="p">;</span>
	<span class="nl">width</span><span class="p">:</span> <span class="m">200%</span><span class="p">;</span>
	<span class="nl">text-align</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#appmenu</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="o">[</span><span class="nt">aria-expanded</span><span class="o">=</span><span class="s1">"true"</span><span class="o">]</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="p">{</span>
	<span class="nl">display</span><span class="p">:</span><span class="nb">block</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</figure>

<figure class="code ">
  <figcaption>Code snippet: JavaScript</figcaption>

<div class="highlight"><pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">appsMenuItems</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">#appmenu &gt; li</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">subMenuItems</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">#appmenu &gt; li li</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">keys</span> <span class="o">=</span> <span class="p">{</span>
	<span class="na">tab</span><span class="p">:</span>    <span class="mi">9</span><span class="p">,</span>
	<span class="na">enter</span><span class="p">:</span>  <span class="mi">13</span><span class="p">,</span>
	<span class="na">esc</span><span class="p">:</span>    <span class="mi">27</span><span class="p">,</span>
	<span class="na">space</span><span class="p">:</span>  <span class="mi">32</span><span class="p">,</span>
	<span class="na">left</span><span class="p">:</span>   <span class="mi">37</span><span class="p">,</span>
	<span class="na">up</span><span class="p">:</span>     <span class="mi">38</span><span class="p">,</span>
	<span class="na">right</span><span class="p">:</span>  <span class="mi">39</span><span class="p">,</span>
	<span class="na">down</span><span class="p">:</span>   <span class="mi">40</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">currentIndex</span><span class="p">,</span> <span class="nx">subIndex</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">gotoIndex</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">idx</span> <span class="o">==</span> <span class="nx">appsMenuItems</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">idx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">idx</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">idx</span> <span class="o">=</span> <span class="nx">appsMenuItems</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="nx">appsMenuItems</span><span class="p">[</span><span class="nx">idx</span><span class="p">].</span><span class="nx">focus</span><span class="p">();</span>
	<span class="nx">currentIndex</span> <span class="o">=</span> <span class="nx">idx</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">gotoSubIndex</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">menu</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">menu</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">li</span><span class="dl">'</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">idx</span> <span class="o">==</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">idx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">idx</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">idx</span> <span class="o">=</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="nx">items</span><span class="p">[</span><span class="nx">idx</span><span class="p">].</span><span class="nx">focus</span><span class="p">();</span>
	<span class="nx">subIndex</span> <span class="o">=</span> <span class="nx">idx</span><span class="p">;</span>
<span class="p">}</span>

<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">appsMenuItems</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">i</span><span class="p">){</span>
		<span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">==</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">el</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">tabindex</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">0</span><span class="dl">'</span><span class="p">);</span>
			<span class="nx">el</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">focus</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">currentIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="p">});</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">el</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">tabindex</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">-1</span><span class="dl">'</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="nx">el</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">focus</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">subIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">appsMenuItems</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">i</span><span class="p">){</span>
				<span class="nx">el</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">aria-expanded</span><span class="dl">'</span><span class="p">,</span> <span class="dl">"</span><span class="s2">false</span><span class="dl">"</span><span class="p">);</span>
			<span class="p">});</span>
		<span class="p">});</span>
		<span class="nx">el</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span>  <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
			<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">aria-expanded</span><span class="dl">'</span><span class="p">)</span> <span class="o">==</span> <span class="dl">'</span><span class="s1">false</span><span class="dl">'</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">aria-expanded</span><span class="dl">'</span><span class="p">)</span> <span class="o">==</span>  <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">aria-expanded</span><span class="dl">'</span><span class="p">,</span> <span class="dl">"</span><span class="s2">true</span><span class="dl">"</span><span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">aria-expanded</span><span class="dl">'</span><span class="p">,</span> <span class="dl">"</span><span class="s2">false</span><span class="dl">"</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
			<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">});</span>
		<span class="nx">el</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">keydown</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
			<span class="k">switch</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">right</span><span class="p">:</span>
					<span class="nx">gotoIndex</span><span class="p">(</span><span class="nx">currentIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">left</span><span class="p">:</span>
					<span class="nx">gotoIndex</span><span class="p">(</span><span class="nx">currentIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">tab</span><span class="p">:</span>
					<span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">shiftKey</span><span class="p">)</span> <span class="p">{</span>
						<span class="nx">gotoIndex</span><span class="p">(</span><span class="nx">currentIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="nx">gotoIndex</span><span class="p">(</span><span class="nx">currentIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
					<span class="p">}</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">enter</span><span class="p">:</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">down</span><span class="p">:</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">click</span><span class="p">();</span>
					<span class="nx">subindex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
					<span class="nx">gotoSubIndex</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">ul</span><span class="dl">'</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">up</span><span class="p">:</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">click</span><span class="p">();</span>
					<span class="kd">var</span> <span class="nx">submenu</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">ul</span><span class="dl">'</span><span class="p">);</span>
					<span class="nx">subindex</span> <span class="o">=</span> <span class="nx">submenu</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">li</span><span class="dl">'</span><span class="p">).</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
					<span class="nx">gotoSubIndex</span><span class="p">(</span><span class="nx">submenu</span><span class="p">,</span> <span class="nx">subindex</span><span class="p">);</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">esc</span><span class="p">:</span>
					<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#escape</span><span class="dl">'</span><span class="p">).</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">tabindex</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">-1</span><span class="dl">'</span><span class="p">);</span>
					<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#escape</span><span class="dl">'</span><span class="p">).</span><span class="nx">focus</span><span class="p">();</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">prevdef</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
			<span class="p">}</span>
		<span class="p">});</span>
<span class="p">});</span>

<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">subMenuItems</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">i</span><span class="p">){</span>
	<span class="nx">el</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">tabindex</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">-1</span><span class="dl">'</span><span class="p">);</span>
	<span class="nx">el</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">keydown</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">switch</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">tab</span><span class="p">:</span>
					<span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">shiftKey</span><span class="p">)</span> <span class="p">{</span>
						<span class="nx">gotoIndex</span><span class="p">(</span><span class="nx">currentIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="nx">gotoIndex</span><span class="p">(</span><span class="nx">currentIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
					<span class="p">}</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">right</span><span class="p">:</span>
					<span class="nx">gotoIndex</span><span class="p">(</span><span class="nx">currentIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">left</span><span class="p">:</span>
					<span class="nx">gotoIndex</span><span class="p">(</span><span class="nx">currentIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">esc</span><span class="p">:</span>
					<span class="nx">gotoIndex</span><span class="p">(</span><span class="nx">currentIndex</span><span class="p">);</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">down</span><span class="p">:</span>
					<span class="nx">gotoSubIndex</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span> <span class="nx">subIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">up</span><span class="p">:</span>
					<span class="nx">gotoSubIndex</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span> <span class="nx">subIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">enter</span><span class="p">:</span>
				<span class="k">case</span> <span class="nx">keys</span><span class="p">.</span><span class="na">space</span><span class="p">:</span>
					<span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">innerText</span><span class="p">);</span>
					<span class="nx">prevdef</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">prevdef</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
				<span class="nx">event</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">});</span>
	<span class="nx">el</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">);</span>
			<span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
			<span class="nx">event</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
			<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
</figure>



      

      <nav role="navigation" aria-label="Previous/Next" id="tools">
  <ul>
          <li class="prev">
            <span><a href="../application-menus/" rel="prev" class=""><span class="count"></span><span class="txt"><span class="dir">Previous:</span><span class="title">Application Menus</span></span></a></span>
          </li>
  </ul>
</nav>


      <aside class="side-box github" role="complementary">
  <h2 class="heading">We welcome your ideas</h2>
  <p>Please send any ideas, suggestions, or comments to the <a href="mailto:wai-eo-editors@w3.org?subject=[Tutorial%20Feedback]">(publicly-archived) mailing list wai-eo-editors@w3.org</a>. You can also contribute to the <a href="https://github.com/w3c/wai-tutorials" rel="nofollow">code directly on Github</a>.</p>

	<div class="editpage">
  	<a class="btn" href="https://github.com/w3c/wai-tutorials/blob/master/source/menus/application-menus-code.html.erb.md">Fork &amp; edit this page on Github</a>
	</div>

</aside>


    </div>
  </article>
</main>
<div class="navigation">
  <nav role="navigation" aria-label="Main" id="nav">
    <h2 class="list-heading" id="list-heading-tutorials">
          Menus Tutorial
    </h2>
    <ul aria-labelledby="list-heading-tutorials">
          <li class="intro"><a href="../" class=""><span class="count"></span><span class="txt">Concepts</span></a></li>
            <li>
              <a href="../structure/" class=""><span class="count"></span><span class="txt">Structure</span></a>
            </li>
            <li>
              <a href="../styling/" class=""><span class="count"></span><span class="txt">Styling</span></a>
            </li>
            <li>
              <a href="../flyout/" class=""><span class="count"></span><span class="txt">Fly-out Menus</span></a>
            </li>
            <li>
              <a href="../application-menus/" class=""><span class="count"></span><span class="txt">Application Menus</span></a>
            </li>
            <li class="tips">
              <span class="current-a"><span class="count"></span><span class="txt"><span class="visuallyhidden">Current: </span>Application Menu Example & Code</span></span>
            </li>
    </ul>
    <h2 class="list-heading" id="list-heading-topics">
  All Tutorials
</h2>
<ul class="topics" aria-labelledby="list-heading-topics">
	<li><a href="../../page-structure/"><span class="count"></span><span class="txt">Page Structure</span></a></li>
  <li><span class="current-a"><span class="count"></span><span class="txt"><span class="visuallyhidden">Current: </span>Menus</span></span></li>
	<li><a href="../../images/"><span class="count"></span><span class="txt">Images</span></a></li>
	<li><a href="../../tables/"><span class="count"></span><span class="txt">Tables</span></a></li>
	<li><a href="../../forms/"><span class="count"></span><span class="txt">Forms</span></a></li>
  <li><a href="../../carousels/"><span class="count"></span><span class="txt">Carousels</span></a></li>
</ul>

  </nav>
</div>
  </div>
	<footer id="footer" role="contentinfo" aria-labelledby="wai_footerheading">
    <div>
		<h2 id="wai_footerheading">Document Information</h2>
    <p><strong>Feedback: We welcome ideas for improvements, bug reports, and comments</strong> via <a href="https://github.com/w3c/wai-tutorials">GitHub</a> or e-mail to <a href="mailto:wai-eo-editors@w3.org">wai-eo-editors@w3.org</a> (a publicly archived list) or <a href="mailto:wai@w3.org">wai@w3.org</a> (a WAI staff-only list).</p>
		<ul>
			<li><strong>Status:</strong>
	      	Updated
	      27 July 2019
		      (first published May 2015)
			</li>
      <li>
  Editors:
  <ul class="inline">
    <li><a href="https://www.w3.org/People/yatil/">Eric Eggert</a></li><li><a href="https://www.w3.org/People/shadi/">Shadi Abou-Zahra</a></li>
  </ul>

  Contributors:
  <ul class="inline">
    <li>The Education and Outreach Working Group (<a href="https://www.w3.org/WAI/EO/">EOWG</a>)</li>
  </ul>
</li>

<li>
  Developed with support from the <a href="https://www.w3.org/WAI/ACT/">WAI-ACT project</a>, co-funded by the <strong>European Commission <abbr title="Information Society Technologies">IST</abbr> Programme</strong>.
</li>

      <li>[<a href="../../attributions/" class=""><span class="count"></span><span class="txt">Attributions</span></a>]  [<a href="../../changelog/" class=""><span class="count"></span><span class="txt">Changelog</span></a>]</li>
    </ul>
    <p>
    	[<a href="https://www.w3.org/WAI/sitemap.html">WAI Site Map</a>]
    	[<a href="https://www.w3.org/WAI/sitehelp.html">Help with WAI Website</a>]
    	[<a href="https://www.w3.org/WAI/search.php">Search</a>]
    	[<a href="https://www.w3.org/WAI/contacts">Contacting WAI</a>]
		</p>
    <div class="copyright">
        <p>
	        Copyright &#xA9; 2019 W3C <sup>&#xAE;</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>) <a href="/Consortium/Legal/ipr-notice">Usage policies apply</a>.
        </p>
      </div><!-- ends copyright -->
    </div>
	</footer>
	<script src="../../javascripts/main-4d3ee932.js"></script>
  <!-- Piwik -->
  <script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setDomains", ["*.www.w3.org/WAI"]]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
  var u="//www.w3.org/analytics/piwik/";
  _paq.push(['setTrackerUrl', u+'piwik.php']);
  _paq.push(['setSiteId', 328]);
  var d=document, g=d.createElement('script'),
  s=d.getElementsByTagName('script')[0];
  g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js';
  s.parentNode.insertBefore(g,s);
  })();
  </script>
  <noscript><p><img src="//www.w3.org/analytics/piwik/piwik.php?idsite=328"
  style="border:0;" alt="" /></p></noscript>
  <!-- End Piwik Code -->
	</body>
</html>

